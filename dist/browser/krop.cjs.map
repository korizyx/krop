{"version":3,"file":"krop.cjs","sources":["../../lib/structures/RequestManager.js","../../lib/functions/HTTP.js","../../lib/functions/HTTPS.js","../../lib/functions/HTTP2.js","../../lib/functions/Request.js","../../lib/structures/Session.js","../../lib/Index.js"],"sourcesContent":["\"use strict\";\r\n\r\nimport { request } from \"http\";\r\nimport { Agent } from \"https\";\r\nimport { constants } from \"http2\";\r\n\r\nconst {\r\n  HTTP2_HEADER_PATH,\r\n  HTTP2_HEADER_METHOD,\r\n  HTTP2_HEADER_SCHEME,\r\n  HTTP2_HEADER_AUTHORITY,\r\n} = constants;\r\n\r\nclass RequestManager {\r\n  constructor() {\r\n    this.midia_types = [\"image\", \"video\", \"audio\", \"font\"];\r\n  }\r\n\r\n  proxyParse(text) {\r\n    var input = text;\r\n\r\n    const protocol = input.split(\"://\")[0];\r\n\r\n    if (input.includes(\"@\"))\r\n      input = input.substring(input.lastIndexOf(\"@\") + 1);\r\n    else if (input.includes(\"://\")) input = input.split(\"://\")[1];\r\n\r\n    const host = input.split(\":\")[0];\r\n    const port = parseInt(input.split(\":\")[1]);\r\n\r\n    input = text.split(\"://\")[1];\r\n\r\n    input = text.substring(0, text.lastIndexOf(\"@\"));\r\n    const [username, password] = input.split(\":\");\r\n\r\n    return { host, port, protocol: protocol || \"https\", username, password };\r\n  }\r\n\r\n  proxyTunnel(url, proxy, headers = {}, timeout = 15000) {\r\n    return new Promise((resolve, reject) => {\r\n      const urlParsed = new URL(url);\r\n      const parsed_proxy =\r\n        typeof proxy == \"object\" ? proxy : this.proxyParse(proxy);\r\n\r\n      if (parsed_proxy.username) {\r\n        headers[\"Proxy-Authorization\"] =\r\n          \"Basic \" +\r\n          Buffer.from(\r\n            parsed_proxy.username + \":\" + parsed_proxy.password\r\n          ).toString(\"base64\");\r\n      }\r\n\r\n      request({\r\n        host: parsed_proxy.host,\r\n        port: parsed_proxy.port,\r\n        method: \"CONNECT\",\r\n        maxVersion: \"TLSv1.3\",\r\n        path: `${urlParsed.hostname}:${urlParsed.port ? urlParsed.port : 443}`,\r\n        timeout,\r\n        headers,\r\n      })\r\n        .on(\"connect\", (response, socket) => {\r\n          if (response.statusCode == 200) {\r\n            resolve(socket);\r\n          } else {\r\n            reject(response);\r\n          }\r\n        })\r\n        .on(\"error\", (err) => reject(err))\r\n        .on(\"timeout\", (err) => reject(\"timeout to connect in proxy\"))\r\n        .end();\r\n    });\r\n  }\r\n\r\n  parseResponseData(arr_data, headers) {\r\n    const buffer = Buffer.concat(arr_data);\r\n    var data;\r\n\r\n    try {\r\n      data = JSON.parse(buffer.toString());\r\n    } catch (error) {\r\n      if (\r\n        headers[\"content-type\"] &&\r\n        this.midia_types.some((type) => headers[\"content-type\"].includes(type))\r\n      ) {\r\n        data = buffer;\r\n      } else {\r\n        data = buffer.toString();\r\n      }\r\n    }\r\n\r\n    return data;\r\n  }\r\n\r\n  async parseOptions(options = {}) {\r\n    const parsed_url = new URL(options.url);\r\n\r\n    const buffer = Buffer.from(\r\n      typeof options.payload == \"object\"\r\n        ? JSON.stringify(options.payload)\r\n        : typeof options.payload != \"string\" && options.payload\r\n        ? String(options.payload)\r\n        : options.payload || \"\"\r\n    );\r\n\r\n    if (options.http2) {\r\n      if (options.proxy) {\r\n        options.socket = await this.proxyTunnel(options.url, options.proxy);\r\n      }\r\n\r\n      return {\r\n        url: options.url,\r\n        payload: buffer,\r\n        client: {\r\n          maxVersion: \"TLSv1.3\",\r\n          ALPNProtocols: [\"h2\", \"http/1.1\"],\r\n          socket: options.socket,\r\n        },\r\n        request: {\r\n          [HTTP2_HEADER_AUTHORITY]: parsed_url.host,\r\n          [HTTP2_HEADER_PATH]: parsed_url.pathname + parsed_url.search || \"/\",\r\n          [HTTP2_HEADER_SCHEME]: parsed_url.protocol.split(\":\")[0],\r\n          [HTTP2_HEADER_METHOD]:\r\n            constants[`HTTP2_METHOD_${options.method?.toUpperCase()}`],\r\n          \"Content-Type\":\r\n            options?.headers && options?.headers[\"Content-Type\"]\r\n              ? options?.headers[\"Content-Type\"]\r\n              : \"text/plain\",\r\n          \"Content-Length\": buffer.length,\r\n          Accept: \"*/*, image/*\",\r\n          ...options?.headers,\r\n        },\r\n      };\r\n    } else {\r\n      if (options.proxy) {\r\n        options.agent = new Agent({\r\n          socket: await this.proxyTunnel(options.url, options.proxy).catch(\r\n            (error) => {\r\n              throw error;\r\n            }\r\n          ),\r\n          keepAlive: true,\r\n        });\r\n      } else {\r\n        options.agent = new Agent(options);\r\n      }\r\n\r\n      return {\r\n        url: options.url,\r\n        payload: buffer,\r\n        request: {\r\n          origin: parsed_url.origin,\r\n          href: parsed_url.href,\r\n          protocol: parsed_url.protocol || \"https:\",\r\n          hostname: parsed_url.hostname,\r\n          path: parsed_url.pathname + parsed_url.search || \"/\",\r\n          port: parsed_url.port || 443,\r\n          method: options.method?.toUpperCase() || \"GET\",\r\n          maxVersion: \"TLSv1.3\",\r\n          timeout: options.timeout || 15000,\r\n          headers: {\r\n            accept: \"application/json, text/plain, image/*, */*\",\r\n            \"accept-language\": \"en-US,en;q=0.9\",\r\n            \"Content-Length\": buffer.length,\r\n            ...options?.headers,\r\n          },\r\n          ...options,\r\n        },\r\n      };\r\n    }\r\n  }\r\n}\r\n\r\nexport default new RequestManager();\r\n","\"use strict\";\r\n\r\nimport { request } from \"http\";\r\nimport RequestManager from \"../structures/RequestManager.js\";\r\n\r\nexport default function HTTP(options = {}) {\r\n  return new Promise(async (resolve, reject) => {\r\n    const parsed_options = await RequestManager.parseOptions(options);\r\n\r\n    delete parsed_options.request.agent;\r\n\r\n    if (parsed_options.request.port == 443) {\r\n      delete parsed_options.request.port;\r\n    }\r\n\r\n    const req = request(parsed_options.request, (res) => {\r\n      const response_data = [];\r\n\r\n      res.on(\"data\", (chunk) => {\r\n        response_data.push(chunk);\r\n      });\r\n\r\n      res.on(\"end\", () => {\r\n        res.status = res.statusCode;\r\n        res.data = RequestManager.parseResponseData(response_data, res.headers);\r\n\r\n        resolve(res);\r\n      });\r\n    }).on(\"error\", (error) => {\r\n      reject(error);\r\n    });\r\n\r\n    if (parsed_options.payload?.length > 0) req.write(parsed_options.payload);\r\n\r\n    req.end();\r\n  });\r\n}\r\n","\"use strict\";\r\n\r\nimport { request } from \"https\";\r\nimport RequestManager from \"../structures/RequestManager.js\";\r\n\r\nexport default function HTTPS(options) {\r\n  return new Promise(async (resolve, reject) => {\r\n    const parsed_options = await RequestManager.parseOptions(options);\r\n\r\n    const req = request(parsed_options.request, (res) => {\r\n      const response_data = [];\r\n\r\n      res.on(\"data\", (chunk) => {\r\n        response_data.push(chunk);\r\n      });\r\n\r\n      res.on(\"end\", () => {\r\n        res.status = res.statusCode;\r\n        res.data = RequestManager.parseResponseData(response_data, res.headers);\r\n\r\n        resolve(res);\r\n      });\r\n    }).on(\"error\", (error) => {\r\n      reject(error);\r\n    });\r\n\r\n    if (parsed_options.payload?.length > 0) req.write(parsed_options.payload);\r\n\r\n    req.end();\r\n  });\r\n}\r\n","import { connect, constants } from \"http2\";\r\nimport RequestManager from \"../structures/RequestManager.js\";\r\n\r\nconst { HTTP2_HEADER_STATUS } = constants;\r\n\r\nexport default function HTTP2(options) {\r\n  return new Promise(async (resolve) => {\r\n    const parsed_options = await RequestManager.parseOptions(options);\r\n    const clientSession = connect(new URL(parsed_options.url), parsed_options.client);\r\n    const req = clientSession.request(parsed_options.request);\r\n\r\n    req.on(\"response\", (headers) => {\r\n      const response_data = [];\r\n\r\n      req.on(\"data\", (chunk) => {\r\n        response_data.push(chunk);\r\n      });\r\n\r\n      req.on(\"end\", () => {\r\n        req.close();\r\n        clientSession.close();\r\n\r\n        resolve({\r\n          status: headers[HTTP2_HEADER_STATUS],\r\n          headers,\r\n          data: RequestManager.parseResponseData(response_data, headers),\r\n        });\r\n      });\r\n    });\r\n\r\n    if (parsed_options.payload?.length > 0) req.write(parsed_options.payload);\r\n\r\n    req.end();\r\n  });\r\n}\r\n","\"use strict\";\r\n\r\nimport __HTTP from \"./HTTP.js\";\r\nimport __HTTPS from \"./HTTPS.js\";\r\nimport __HTTP2 from \"./HTTP2.js\";\r\n\r\nfunction Request(...args) {\r\n  const url = args.find((v) => typeof v == \"string\") || \"\";\r\n  const options = args.find((v) => typeof v == \"object\") || {};\r\n\r\n  if (!options?.url) options.url = url;\r\n\r\n  options.url.includes(\"http:\") || options.url.includes(\"https:\")\r\n    ? null\r\n    : (options.url = `https://${options.url}`);\r\n\r\n  return options.http2\r\n    ? __HTTP2(options)\r\n    : options.url.includes(\"http:\")\r\n    ? __HTTP(options)\r\n    : __HTTPS(options);\r\n}\r\n\r\nexport default Request;\r\n","\"use strict\";\r\n\r\nimport Request from \"../functions/Request.js\";\r\n\r\nclass Session {\r\n  constructor(default_options = {}) {\r\n    this.default_options = default_options;\r\n    this.cookies = \"\";\r\n  }\r\n\r\n  async req(...args) {\r\n    const url = args.find((v) => typeof v == \"string\") || \"\";\r\n    const options = args.find((v) => typeof v == \"object\") || {};\r\n\r\n    if (!options?.url) options.url = url;\r\n\r\n    const parsed_options = this.addCookiesInOptions({\r\n      ...this.default_options,\r\n      ...options,\r\n      headers: {\r\n        ...this.default_options?.headers,\r\n        ...options?.headers,\r\n      },\r\n    });\r\n\r\n    const response = await Request(parsed_options);\r\n\r\n    try {\r\n      if (response.headers[\"set-cookie\"]) {\r\n        if (this.cookies)\r\n          this.cookies +=\r\n            \"; \" +\r\n            response.headers[\"set-cookie\"]\r\n              .map((c) => c.split(\";\")[0])\r\n              .join(\"; \");\r\n        else\r\n          this.cookies = response.headers[\"set-cookie\"]\r\n            .map((c) => c.split(\";\")[0])\r\n            .join(\"; \");\r\n      }\r\n    } catch (error) {}\r\n\r\n    return response;\r\n  }\r\n\r\n  addCookie(cookie) {\r\n    if (typeof cookie == \"object\") {\r\n      if (this.cookies.includes(cookie.name)) {\r\n        return false;\r\n      } else if (this.cookies) {\r\n        this.cookies += `; ${cookie.name}=${cookie.value}`;\r\n\r\n        return true;\r\n      } else {\r\n        this.cookies = `${cookie.name}=${cookie.value}`;\r\n\r\n        return true;\r\n      }\r\n    } else {\r\n      if (this.cookies.includes(cookie.split(\"=\")[0])) {\r\n        return false;\r\n      } else if (this.cookies) {\r\n        this.cookies += `; ${cookie.trim()}`;\r\n\r\n        return true;\r\n      } else {\r\n        this.cookies = `${cookie.trim()}`;\r\n\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n\r\n  removeCookie(cookie_name) {\r\n    if (this.cookies.includes(cookie_name)) {\r\n      this.cookies = this.cookies.replace(\r\n        this.cookies.slice(this.cookies.indexOf(cookie_name)).split(\" \")[0],\r\n        \"\"\r\n      );\r\n\r\n      return true;\r\n    } else return false;\r\n  }\r\n\r\n  addCookiesInOptions(options) {\r\n    if (this.cookies) {\r\n      if (options.headers && options.headers?.cookie) {\r\n        options.headers.cookie += \"; \" + this.cookies;\r\n      } else {\r\n        options.headers.cookie = this.cookies;\r\n      }\r\n    }\r\n\r\n    return options;\r\n  }\r\n\r\n  json() {\r\n    const object = {};\r\n\r\n    for (const cookie of this.cookies.split(\"; \")) {\r\n      const [name, ...value] = cookie.split(\"=\");\r\n\r\n      if (name) {\r\n        object[name] = value.join(\"=\");\r\n      }\r\n    }\r\n    return object;\r\n  }\r\n}\r\n\r\nexport default Session;\r\n","import _request from \"./functions/Request.js\";\r\nimport _Session from \"./structures/Session.js\";\r\nimport assert from \"assert\";\r\n\r\n[\r\n  \"get\",\r\n  \"post\",\r\n  \"patch\",\r\n  \"options\",\r\n  \"delete\",\r\n  \"head\",\r\n  \"put\",\r\n  \"link\",\r\n  \"unlink\",\r\n  \"purge\",\r\n].forEach((method) => {\r\n  _request[method] = (options) => _request({ ...options, method });\r\n});\r\n\r\n_request.Session = _Session;\r\nassert.equal(_request.Session, _Session);\r\n\r\nconst request = _request;\r\n\r\nexport default request;\r\n"],"names":["constants","request","Agent","RequestManager","connect","__HTTP2","__HTTP","__HTTPS","_request","_Session"],"mappings":"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"}